(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{139:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/unity-activate-license-classic-ded98766f0e38ec11756bb22d0d771a2.png"},140:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/unity-activate-license-log-5b5d1cca2722eb98c4f277c11c401f90.png"},80:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return s})),n.d(t,"toc",(function(){return l})),n.d(t,"default",(function(){return u}));var a=n(3),i=n(8),r=(n(0),n(92)),o={id:"unity-activate-license-task",title:"Unity Activate License"},s={unversionedId:"unity-activate-license-task",id:"unity-activate-license-task",isDocsHomePage:!1,title:"Unity Activate License",description:"About",source:"@site/docs/unity-activate-license-task.md",slug:"/unity-activate-license-task",permalink:"/docs/unity-activate-license-task",editUrl:"https://github.com/Dinomite-Studios/unity-azure-pipelines-tasks-docs/edit/development/docs/unity-activate-license-task.md",version:"current",sidebar:"docsSidebar",previous:{title:"Unity Get Project Version",permalink:"/docs/unity-get-project-version-task"},next:{title:"Unity Test",permalink:"/docs/unity-test-task"}},l=[{value:"About",id:"about",children:[]},{value:"Inputs",id:"inputs",children:[{value:"username",id:"username",children:[]},{value:"password",id:"password",children:[]},{value:"serial",id:"serial",children:[]},{value:"unityEditorsPathMode",id:"unityeditorspathmode",children:[]},{value:"customUnityEditorsPath",id:"customunityeditorspath",children:[]},{value:"unityProjectPath",id:"unityprojectpath",children:[]}]},{value:"Outputs",id:"outputs",children:[{value:"logsOutputPath",id:"logsoutputpath",children:[]}]},{value:"How to use",id:"how-to-use",children:[{value:"YAML",id:"yaml",children:[]},{value:"Classic Pipeline Editor",id:"classic-pipeline-editor",children:[]}]},{value:"Log",id:"log",children:[]}],c={toc:l};function u(e){var t=e.components,o=Object(i.a)(e,["components"]);return Object(r.b)("wrapper",Object(a.a)({},c,o,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{id:"about"},"About"),Object(r.b)("p",null,"This task is used to activate a Untiy Plus/Pro license on the executing agent machine. You can find the task when editing your pipeline by searching for the name ",Object(r.b)("inlineCode",{parentName:"p"},"Unity Activate License"),"."),Object(r.b)("hr",null),Object(r.b)("h2",{id:"inputs"},"Inputs"),Object(r.b)("p",null,"This task supports input variables for configuration."),Object(r.b)("h3",{id:"username"},"username"),Object(r.b)("p",null,"The username, generally a mail address, used to activate the license on the machine."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Required"),": Yes"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Default Value"),": -"),Object(r.b)("h3",{id:"password"},"password"),Object(r.b)("p",null,"The password for the user specified in the ",Object(r.b)("inlineCode",{parentName:"p"},"username")," input."),Object(r.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Use a secure variable for this input. That way the password will be secured and will not appear in clear text in any log output."))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Required"),": Yes"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Default Value"),": -"),Object(r.b)("h3",{id:"serial"},"serial"),Object(r.b)("p",null,"The Unity Plus/Pro seat serial key used to activate the license on the machine. The seat must have at least one free activation available.\nAt the time of writing a Unity Plus/Pro seat can be activated on up to two machines. The build task will release the activation every time once\nthe pipeline has finished."),Object(r.b)("div",{className:"admonition admonition-warning alert alert--danger"},Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(r.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"})))),"warning")),Object(r.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Use a secure variable for this input. That way the serial will be secured and will not appear in clear text in any log output."))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Required"),": Yes"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Default Value"),": -"),Object(r.b)("h3",{id:"unityeditorspathmode"},"unityEditorsPathMode"),Object(r.b)("p",null,"For the task to run successfully it needs to know where Unity installations are located at on the agent. This input lets you configure,\nwhere the task should look for installations."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Required"),": Yes"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Default Value"),": unityHub"),Object(r.b)("h4",{id:"options"},"Options:"),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Value"),Object(r.b)("th",Object(a.a)({parentName:"tr"},{align:null}),"Description"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"unityHub"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Uses the Unity Hub default installation path.")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"environmentVariable"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Expects an environment variable ",Object(r.b)("inlineCode",{parentName:"td"},"UNITYHUB_EDITORS_FOLDER_LOCATION")," to exist on the agent and specifying where to find editor installations.")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"specify"),Object(r.b)("td",Object(a.a)({parentName:"tr"},{align:null}),"Let's you specify a custom path where to lookup editor installations using the input ",Object(r.b)("inlineCode",{parentName:"td"},"customUnityEditorsPath"),".")))),Object(r.b)("h3",{id:"customunityeditorspath"},"customUnityEditorsPath"),Object(r.b)("p",null,"If you are using a custom buld agent you may want to specify a custom path to specify where to look for Unity installations. This input lets you do that.\nMake sure to set ",Object(r.b)("inlineCode",{parentName:"p"},"unityEditorsPathMode")," to ",Object(r.b)("inlineCode",{parentName:"p"},"specify")," for this input to take effect."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Required"),": Yes, if ",Object(r.b)("inlineCode",{parentName:"p"},"unityEditorsPathMode")," set to ",Object(r.b)("inlineCode",{parentName:"p"},"specify")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Default Value"),": -"),Object(r.b)("h3",{id:"unityprojectpath"},"unityProjectPath"),Object(r.b)("p",null,"Enter the directory path to the Unity project. If no value is entered, the project is assumed to be in the repository root."),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Required"),": No"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Default Value"),": -"),Object(r.b)("hr",null),Object(r.b)("h2",{id:"outputs"},"Outputs"),Object(r.b)("p",null,"This task provides output variables."),Object(r.b)("h3",{id:"logsoutputpath"},"logsOutputPath"),Object(r.b)("p",null,"Path to the Unity editor log files generated while executing the task. Use this e.g. to upload logs in case of a failure."),Object(r.b)("hr",null),Object(r.b)("h2",{id:"how-to-use"},"How to use"),Object(r.b)("p",null,"Here's a simple example of how to use and define the task in your pipeline. For more examples, check the ",Object(r.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/examples"}),"Examples Collection"),"."),Object(r.b)("h3",{id:"yaml"},"YAML"),Object(r.b)("p",null,"In the simple YAML example below we are definiing the task a step in the pipeilne using ",Object(r.b)("inlineCode",{parentName:"p"},"- task: UnityActivateLicenseTask@1"),". We are also giving the task a reference name using ",Object(r.b)("inlineCode",{parentName:"p"},"name: unityactivation"),", so we can use it to refernce the output variables of the task in other tasks of the pipeline. E.g. we can output the value of the ",Object(r.b)("inlineCode",{parentName:"p"},"logsOutputPath")," output variable to the console using ",Object(r.b)("inlineCode",{parentName:"p"},"echo $(unityactivation.logsOutputPath)"),". For ",Object(r.b)("inlineCode",{parentName:"p"},"username"),", ",Object(r.b)("inlineCode",{parentName:"p"},"password")," and ",Object(r.b)("inlineCode",{parentName:"p"},"serial")," we use shared pipeline variables created previously that contain the user credentials for activating Unity."),Object(r.b)("pre",null,Object(r.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"trigger:\n- main\n\npool:\n  name: Unity Windows\n\nvariables:\n  - group: unity-activation-variables\n\nsteps:\n- task: UnityActivateLicenseTask@1\n  name: unityactivation\n  inputs:\n    username: $(unity.username)\n    password: $(unity.password)\n    serial: $(unity.serial)\n\n- script: |\n    echo $(unityactivation.logsOutputPath)\n")),Object(r.b)("h3",{id:"classic-pipeline-editor"},"Classic Pipeline Editor"),Object(r.b)("p",null,"The classic (visual) editor for Azure Pipelines provides input fields for configuring the task. In the simple example below, we set variables, which we previously defined, for the ",Object(r.b)("inlineCode",{parentName:"p"},"username"),", ",Object(r.b)("inlineCode",{parentName:"p"},"password")," and ",Object(r.b)("inlineCode",{parentName:"p"},"serial")," inputs. For ",Object(r.b)("inlineCode",{parentName:"p"},"Unity editors location")," we tell the task to use the default Unity Hub installation path to lookup installed Unity editor versions on the agent running our pipeline. We are also leaving the ",Object(r.b)("inlineCode",{parentName:"p"},"Unity project path")," field empty, since we know our Unity project is in the repository root. We are also assigning a ",Object(r.b)("inlineCode",{parentName:"p"},"Reference name")," to the task, so we can use it to refernce the output variables in the variables list in other tasks of the pipeline. E.g. to get the value of the ",Object(r.b)("inlineCode",{parentName:"p"},"logsOutputPath")," output variable and insert it into any other input field of a task we can then use ",Object(r.b)("inlineCode",{parentName:"p"},"$(unityactivation.logsOutputPath)"),"."),Object(r.b)("p",null,Object(r.b)("img",{alt:"Classic Pipeline Designer Task Configuration",src:n(139).default})),Object(r.b)("hr",null),Object(r.b)("h2",{id:"log"},"Log"),Object(r.b)("p",null,"When run and successful the task will provide log output similar to this:"),Object(r.b)("p",null,Object(r.b)("img",{alt:"Task Log",src:n(140).default})))}u.isMDXComponent=!0},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var a=n(0),i=n.n(a);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=i.a.createContext({}),u=function(e){var t=i.a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=u(e.components);return i.a.createElement(c.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return i.a.createElement(i.a.Fragment,{},t)}},d=i.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),p=u(n),d=a,h=p["".concat(o,".").concat(d)]||p[d]||b[d]||r;return n?i.a.createElement(h,s(s({ref:t},c),{},{components:n})):i.a.createElement(h,s({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var c=2;c<r;c++)o[c]=n[c];return i.a.createElement.apply(null,o)}return i.a.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);