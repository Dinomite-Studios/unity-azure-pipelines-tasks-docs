(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{81:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return o})),n.d(t,"metadata",(function(){return l})),n.d(t,"toc",(function(){return s})),n.d(t,"default",(function(){return c}));var a=n(3),r=n(8),i=(n(0),n(92)),o={id:"example-standalone-0",title:"Standalone Build And Upload"},l={unversionedId:"example-standalone-0",id:"example-standalone-0",isDocsHomePage:!1,title:"Standalone Build And Upload",description:"This pipeline example will build a Unity application targeting the Standalone platform and then proceed to upload the exported files from the agent to the Azure DevOps storage, so they can be deployed or distributed as needed in subsequent operations, such as a CD pipeline.",source:"@site/docs/example-standalone-0.md",slug:"/example-standalone-0",permalink:"/docs/example-standalone-0",editUrl:"https://github.com/Dinomite-Studios/unity-azure-pipelines-tasks-docs/edit/development/docs/example-standalone-0.md",version:"current",sidebar:"docsSidebar",previous:{title:"Examples Overview",permalink:"/docs/examples"}},s=[{value:"Overview",id:"overview",children:[]},{value:"YAML",id:"yaml",children:[]}],u={toc:s};function c(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},u,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"This pipeline example will build a Unity application targeting the Standalone platform and then proceed to upload the exported files from the agent to the Azure DevOps storage, so they can be deployed or distributed as needed in subsequent operations, such as a CD pipeline."),Object(i.b)("h2",{id:"overview"},"Overview"),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Target Platform:")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Standalone (Windows)")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Used Tasks:")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Unity Activate License"),Object(i.b)("li",{parentName:"ul"},"Unity Build")),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Agent:")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Custom Agent with Unity preinstalled")),Object(i.b)("h2",{id:"yaml"},"YAML"),Object(i.b)("pre",null,Object(i.b)("code",Object(a.a)({parentName:"pre"},{className:"language-yaml"}),"# Trigger the pipeline to run whenever a commit to the main branch is made.\ntrigger:\n- main\n\n# Use a custom agent pool called \"Unity Windows\" that manages custom agents\n# that have the required Unity versions installed and any required SDKs for target platforms\n# configured.\npool:\n  name: Unity Windows\n\n# Adds a shared pipeline variables library to the pipeline that contains\n# authentication variables for activating a Unity editor with a Unity Plus / Pro seat.\nvariables:\n  - group: unity-activation-variables\n\nsteps:\n# Before we build we activate a Unity Plus/Pro seat on the agent, only for the duration\n# of the pipeline execution. That way we can e.g. get rid of the Unity splash screen in our build.\n- task: UnityActivateLicenseTask@1\n  name: unityactivation\n  inputs:\n    username: $(unity.username)\n    password: $(unity.password)\n    serial: $(unity.serial)\n\n# Build the Unity project to standalone. Since we are running on a Windows agent, this will produce\n# an .exe executable and any dependency files needed.\n- task: UnityBuildTask@3\n  inputs:\n    buildTarget: standalone\n    outputPath: $(Build.BinariesDirectory)\n    outputFileName: mygame\n\n# Copy build output files to artifact staging directory.\n- task: CopyFiles@2\n  inputs:\n    SourceFolder: $(Build.BinariesDirectory)\n    Contents: '**'\n    TargetFolder: $(Build.ArtifactStagingDirectory)\n    CleanTargetFolder: true\n    OverWrite: true\n\n# Finally publish all items in artifact staging to the Azure Pipelines\n# artifact storage. They will be available for sharing and/or further processing there.\n- task: PublishBuildArtifacts@1\n  inputs:\n    PathtoPublish: $(Build.ArtifactStagingDirectory)\n    ArtifactName: drop\n    publishLocation: Container\n")))}c.isMDXComponent=!0},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=r.a.createContext({}),c=function(e){var t=r.a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return r.a.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,o=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),p=c(n),b=a,m=p["".concat(o,".").concat(b)]||p[b]||d[b]||i;return n?r.a.createElement(m,l(l({ref:t},u),{},{components:n})):r.a.createElement(m,l({ref:t},u))}));function m(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,o=new Array(i);o[0]=b;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var u=2;u<i;u++)o[u]=n[u];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);